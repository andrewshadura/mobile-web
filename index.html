<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<meta name="apple-mobile-web-app-capable" content="yes" />

		<title>ReKola</title>

		<link rel="stylesheet" type="text/css" href="css/screen.css" />

		<script type="text/javascript" charset="utf-8" src="libs/smoothie-require.js"></script>
		<script type="text/javascript" charset="utf-8" src="libs/intel-appframework/ui/appframework.ui.min.js"></script>
		<script type="text/javascript" charset="utf-8" src="libs/underscore/underscore-min.js"></script>
		<script type="text/javascript" charset="utf-8" src="libs/backbone/backbone-min.js"></script>
		<script type="text/javascript" src="//maps.google.com/maps/api/js?sensor=false"></script>

		<script>
			/* REKOLA Namespace */
			var REKOLA = {};
			REKOLA.baseUrl = document.location.href.replace(document.location.protocol + '//' + document.location.host, '').replace(document.location.hash, '');
			REKOLA.remoteUrl = 'http://private-eb5f-roboclevis.apiary.io';
			REKOLA.apiKey = 'REKOLA-apiKey';
			REKOLA.rentedBike = 'REKOLA-rentedBike';
			console.log('REKOLA', REKOLA);

			/* include touch on desktop browsers only */
			if (!((window.DocumentTouch && document instanceof DocumentTouch) || 'ontouchstart' in window)) {
				var script = document.createElement("script");
				script.src = "libs/intel-appframework/plugins/af.desktopBrowsers.js";
				var tag = $("head").append(script);
				// $.os.android = true; //let's make it run like an android device
				// $.os.ios = true;
				$.os.desktop = true;
			}
		</script>


	</head>

	<body>
		<div id="afui"> <!-- this is the main container div.  This way, you can have only part of your app use UI -->
			<!-- this is the header div at the top -->
			<div id="header">
				<h1 id="pageTitle">ReKola</h1>
			</div>
			<div id="content">

				<div id="splashscreen">
					<div class="wrap">
						<img src="img/logo.svg" onerror="this.onerror=null; this.src='img/logo.png'">
						<p>Rozjíždím aplikaci...</p>
					</div>
				</div>

				<!--

				<div title="Kolo 234" id="bike" class="panel">
					mapa<br>
					adresa<br>
					popis<br>

					<a class="button slate">Jdu si pro kolo</a>
				</div>

				<div title="O projektu ReKola" id="aboutApp" class="panel">
					<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sequi, debitis impedit dicta soluta libero rerum nisi deserunt optio vero natus. Dolore, eaque id doloribus saepe quam animi optio corporis et!</p>
				</div>
				<div title="Jak se přihlásit" id="howtoLogin" class="panel">
					<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eum, dolore, ea sint et ut rerum unde. Illo, voluptate, molestiae reprehenderit vero quisquam ipsa quis assumenda vel asperiores. Adipisci, voluptatem, explicabo.</p>
				</div> -->

			</div>
		</div>

		<!-- Templates -->
		<script type="text/template" id="template-login">
			<input class="username" type="text" placeholder="Jméno">
			<input class="password" type="password" placeholder="Heslo">
			<a class="button slate button-login">Přihlásit se</a>

			<p>
				<a class="button">O projektu</a>
				<a class="button">Jak se přihlásit</a>
			</p>
		</script>

		<script type="text/template" id="template-bikesnearby">
			<% if(position) { %>
				<p class="position">Pozice: <%- position %></p>
			<% } %>

			<ul class="list bikesList">
				<% _.each(bikes, function(bike){ %>
					<li><a class="bikeDetail" data-id="<%- bike.id %>">
						<span class="type"><%- bike.type %></span>
						<span class="distance"><%- bike.distance %></span>
						<span class="address"><%- bike.address %></span>
					</a></li>
				<% }); %>
			</ul>
		</script>

		<script type="text/template" id="template-bikedetail">
			<div class="map"></div>
			<div class="position">
				<span class="distance"><%- bike.distance %></span>,
				<span class="address"><%- bike.address %></span><br>
				<small class="note"><%- bike.note %></small>
			</div>
			<p class="note">
				<%- bike.description %>
			</p>
			<% if(bike.issues){ %>
				<p class="issues">Závady:
					<ul>
					<% _.each(bike.issues, function(issue){ %>
						<li><%- issue %></li>
					<% }); %>
					</ul>
				</p>
			<% } %>
			<a class="button slate button-getcode">Půjčit si kolo</a>
		</script>

		<script type="text/template" id="template-bikecode">
			<input type="text" class="code" placeholder="identifikátor kola">
			<a class="button slate button-getcode">Získat kód zámku</a>
			<p>Opište identifikátor z tabulky na kole a získáte kód zámku.</p>
			<p>Od té chvíle máte kolo půjčené.</p>
			<a class="button button-howitworks">Jak přesně to funguje</a>
		</script>

		<script type="text/template" id="template-bikerented">
			<p>Kód zámku</p>
			<strong><%- bike.unlockCode %></strong>
			<p>Štastnou cestu!</p>
			<a class="button slate button-return">Vrátit kolo</a>
			<a class="button button-report">Nahlásit problém</a>
		</script>

		<script type="text/template" id="template-bikereturn">
			<p class="address"></p>
			<small class="specify">Neodpovídá adresa? Upravte ji přetažením mapy:</small>
			<div class="mapWrap">
				<img class="mapIcon" src="img/ico-direction_down-simple.png">
				<div class="map"></div>
			</div>
			<textarea placeholder="Upřesněte prosím, kde kolo stojí (např. 3. lamba od ulice X)"></textarea>
			<a class="button slate button-return">Kolo vráceno a uzamčeno</a>
		</script>

		<script type="text/template" id="template-bikereturned">
			<p>Kolo bylo vráceno</p>
			<p>Těšíme se, že se brzy zase svezete.</p>
			<a class="button slate button-nearby">Seznam kol v okolí</a>
		</script>

		<script type="text/javascript" charset="utf-8" src="init.js"></script>
	</body>
</html>