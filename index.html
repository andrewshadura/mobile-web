<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<meta name="apple-mobile-web-app-capable" content="yes" />

		<title>ReKola</title>

		<link rel="stylesheet" type="text/css" href="css/screen.css" />

		<script type="text/javascript" charset="utf-8" src="libs/smoothie-require.js"></script>
		<script type="text/javascript" charset="utf-8" src="libs/intel-appframework/build/appframework.min.js"></script>
		<script type="text/javascript" charset="utf-8" src="libs/intel-appframework/build/ui/appframework.ui.min.js"></script>
		<script type="text/javascript" charset="utf-8" src="libs/iscroll/dist/iscroll-lite-min.js"></script>
		<script type="text/javascript" charset="utf-8" src="libs/underscore/underscore-min.js"></script>
		<script type="text/javascript" charset="utf-8" src="libs/backbone/backbone-min.js"></script>
		<script type="text/javascript" src="//maps.google.com/maps/api/js?sensor=false"></script>

		<script>
			/* REKOLA Namespace */
			var REKOLA = {};
			REKOLA.baseUrl = document.location.href.replace(document.location.protocol + '//' + document.location.host, '').replace(document.location.hash, '');
			REKOLA.remoteUrl = 'http://rekola.clevis.org/server/api';
			REKOLA.apiKey = 'REKOLA-apiKey';
			REKOLA.rentedBike = 'REKOLA-rentedBike';
			console.log('REKOLA', REKOLA);
		</script>
	</head>

	<body>
		<div id="afui">

			<div id="header">
				<h1 id="pageTitle">ReKola</h1>
			</div>

			<div id="content">

				<div id="splashscreen">
					<div class="wrap">
						<img src="img/logo.svg" onerror="this.onerror=null; this.src='img/logo.png'">
						<p>Rozjíždím aplikaci...</p>
					</div>
				</div>

			</div>
		</div>

		<!-- Templates -->
		<script type="text/template" id="template-login">
			<form action>
				<input class="username" type="text" placeholder="Jméno">
				<input class="password" type="password" placeholder="Heslo">
				<input class="accessible" type="submit">
			</form>
			<a class="button slate button-login">Přihlásit se</a>

			<p>
				<a class="button">O projektu</a>
				<a class="button">Jak se přihlásit</a>
			</p>
		</script>

		<script type="text/template" id="template-bikesnearby">
			<ul class="list bikesList">
				<% _.each(bikes, function(bike){ %>
					<li><a class="bikeDetail" data-id="<%- bike.id %>">
						<span class="distance"><%- bike.location.distance %></span>
						<span class="right">
							<span class="name"><%- bike.name %></span>
							<span class="address"><%- bike.location.address %></span>
						</span>
					</a></li>
				<% }); %>
			</ul>
		</script>

		<script type="text/template" id="template-bikedetail">
			<div class="map"></div>
			<div class="position">
				<span class="distance"><%- bike.location.distance %></span>,
				<span class="address"><%- bike.location.address %></span><br>
				<small class="note"><%- bike.location.note %></small>
			</div>
			<p class="note">
				<%- bike.description %>
			</p>
			<% if(bike.issue){ %>
				<p class="issues">Závady: <%- bike.issue %></p>
			<% } %>
			<a class="button slate button-getcode">Půjčit si kolo</a>
		</script>

		<script type="text/template" id="template-bikecode">
			<form action>
				<input type="text" class="code" placeholder="identifikátor kola">
				<input class="accessible" type="submit">
			</form>
			<a class="button slate button-getcode">Získat kód zámku</a>
			<p>Opište identifikátor z tabulky na kole a získáte kód zámku.</p>
			<p>Od té chvíle máte kolo půjčené.</p>
			<a class="button button-howitworks">Jak přesně to funguje</a>
		</script>

		<script type="text/template" id="template-bikerented">
			<div class="info">
				<p>Kód zámku</p>
				<strong><%- bike.unlockCode %></strong>
				<p>Štastnou cestu!</p>
			</div>
			<a class="button slate button-return">Vrátit kolo</a>
			<a class="button button-report">Nahlásit problém</a>
		</script>

		<script type="text/template" id="template-bikereturn">
			<p class="address"></p>
			<small class="specify">Neodpovídá adresa? Upravte ji přetažením mapy:</small>
			<div class="mapWrap">
				<img class="mapIcon" src="img/ico-direction_down-simple.png">
				<div class="map"></div>
			</div>
			<form action>
				<textarea placeholder="Upřesněte prosím, kde kolo stojí (např. 3. lampa od ulice X)"></textarea>
				<input class="accessible" type="submit">
			</form>
			<a class="button slate button-return">Kolo vráceno a uzamčeno</a>
		</script>

		<script type="text/template" id="template-bikereturned">
			<p>Kolo bylo vráceno</p>
			<p>Těšíme se, že se brzy zase svezete.</p>
			<a class="button slate button-nearby">Seznam kol v okolí</a>
		</script>

		<script type="text/javascript" charset="utf-8" src="init.js"></script>
	</body>
</html>
